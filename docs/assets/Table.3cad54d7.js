import{q as b}from"./index.966e18d6.js";import{d as y,r as T,a as v,b as m,c as x,e as w,f as a,w as r,u as n,o as K,g as f,_ as P}from"./index.5771b930.js";const V=[{id:1,name:"\u5ED6\u6DB5\u884D",userAge:25},{id:2,name:"\u9093\u6BC5\u7136",userAge:25},{id:3,name:"\u8C22\u627F\u671B",userAge:25},{id:4,name:"\u80E1\u5609\u8363",userAge:25},{id:5,name:"\u80E1\u548C\u5E73",userAge:25},{id:6,name:"\u949F\u5F18\u548C",userAge:25},{id:7,name:"\u9AD8\u6CE2\u5149",userAge:25},{id:8,name:"\u6C5F\u627F\u5B89",userAge:25},{id:9,name:"\u9ECE\u627F\u6069",userAge:25},{id:10,name:"\u8D75\u6D69\u7136",userAge:25},{id:11,name:"\u6881\u82E5\u4E91",userAge:25},{id:12,name:"\u5468\u82B3\u6CFD",userAge:25},{id:13,name:"\u4E54\u6E05\u5609",userAge:25},{id:14,name:"\u8881\u53F8\u8FB0",userAge:25},{id:15,name:"\u77F3\u79C0\u5A9A",userAge:25},{id:16,name:"\u91D1\u60E0\u82B3",userAge:25},{id:17,name:"\u90B9\u6292\u6000",userAge:25},{id:18,name:"\u590F\u94C3\u8BED",userAge:25},{id:19,name:"\u9648\u6D25\u6587",userAge:25}],I=[{id:1,name:"\u5ED6\u6DB5\u884D",userAge:25},{id:2,name:"\u9093\u6BC5\u7136",userAge:25},{id:3,name:"\u8C22\u627F\u671B",userAge:25},{id:4,name:"\u80E1\u5609\u8363",userAge:25},{id:5,name:"\u80E1\u548C\u5E73",userAge:25}],L=e=>{console.log("query",e);const{pageNum:t,pageSize:l,name:u}=e;return new Promise((i,d)=>{let s=V;u&&(s=s.filter(A=>A.name==e.name));const c=(t-1)*l,g=c+l,_=s.slice(c,g);i({data:{list:_,count:s.length}})})},N=e=>(console.log("query",e),new Promise((t,l)=>{let u=I;e.name&&(u=u.filter(i=>i.name.includes(e.name))),t({data:u})})),k=y({__name:"Table",setup(e){const t=T({tableDataResolver:L,searchQuery:{pageSize:10,name:""},shim:p=>p.map(o=>({id:o.id,name:o.name,age:o.userAge}))}),{getList:l,list:u,listLoading:i,searchQuery:d,pagination:s,handlePageChange:c}=b(t),g=v([{colKey:"id",title:"ID"},{colKey:"name",title:"\u59D3\u540D"},{colKey:"age",title:"\u5E74\u9F84"}]),_=()=>{l()},A=()=>{t.tableDataResolver=N};return(p,o)=>{const E=m("t-input"),C=m("t-form-item"),D=m("t-button"),B=m("t-form"),h=m("t-table");return K(),x("section",null,[w("div",null,[a(B,{data:n(d),layout:"inline","label-width":"0",onSubmit:_},{default:r(()=>[a(C,null,{default:r(()=>[a(E,{modelValue:n(d).name,"onUpdate:modelValue":o[0]||(o[0]=F=>n(d).name=F),placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D"},null,8,["modelValue"])]),_:1}),a(C,null,{default:r(()=>[a(D,{theme:"primary",type:"submit"},{default:r(()=>[f("\u641C\u7D22")]),_:1}),a(D,{theme:"primary",onClick:A},{default:r(()=>[f("\u66F4\u6539")]),_:1})]),_:1})]),_:1},8,["data"])]),a(h,{rowKey:"id",data:n(u),columns:g.value,size:"small",loading:n(i),pagination:n(s),onPageChange:n(c),"cell-empty-content":"--"},null,8,["data","columns","loading","pagination","onPageChange"])])}}});const j=P(k,[["__scopeId","data-v-d7c9e4c6"]]);export{j as default};
